'''

Ping a range of IP Addresses.
Sends ICMP requests.

'''

import os
import platform
from datetime import datetime

#Make it platform independant.
oper = platform.system()
if oper == "Linux":
	ping1 = "ping -c 1 "
elif oper == "Windows":
	ping1 = "ping -n 1 "
else:
	ping1 = "ping -c 1 "

#Enter the network address.
net = raw_input("Enter the network address: ")
net1 =net.split(".")
print net1
a = "."
net2 = net1[0]+a+net1[1]+a+net1[2]+a
print net2
#Enter the range IP Address on the network to scan.
st1 = int(raw_input("Starting IP Address: "))
en1 = int(raw_input("Ending IP Address: "))

t1 = datetime.now()
print "Scanning in progress"
for ip in xrange(st1,en1):
	addr = net2+str(ip)
	comm = ping1+addr
	response = os.popen(comm)
	for line in response.readlines():
		if (line.count("ttl")):
			print addr, " ---> Live."
t2 = datetime.now()
total = t2-t2
print "Scanning completed at: ",total
